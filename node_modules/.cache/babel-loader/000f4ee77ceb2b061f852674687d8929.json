{"ast":null,"code":"import _objectSpread from\"C:/Users/\\u05DE\\u05DC\\u05D0\\u05DA \\u05D2\\u05DC/Desktop/Projects/Instagram-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:/Users/\\u05DE\\u05DC\\u05D0\\u05DA \\u05D2\\u05DC/Desktop/Projects/Instagram-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/\\u05DE\\u05DC\\u05D0\\u05DA \\u05D2\\u05DC/Desktop/Projects/Instagram-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/\\u05DE\\u05DC\\u05D0\\u05DA \\u05D2\\u05DC/Desktop/Projects/Instagram-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useDispatch}from'react-redux';import{useHistory}from'react-router-dom';import{authUser}from'../../store/actions';import InstaPhoto from'../../images/insta.png';import Slider1 from'../../images/slider1.jpg';import Slider2 from'../../images/slider2.jpg';import Slider3 from'../../images/slider3.jpg';import Grid from'@material-ui/core/Grid';import{Hidden}from'@material-ui/core';import{useFormik}from'formik';import*as Yup from'yup';import Modal from'react-bootstrap/Modal';import{TextField,Button}from'@material-ui/core';import{makeStyles}from'@material-ui/core/styles';import Alert from'@material-ui/lab/Alert';import EmailStepper from'./emailStepper';import Link from'@material-ui/core/Link';import Paper from'@material-ui/core/Paper';import Box from'@material-ui/core/Box';import Typography from'@material-ui/core/Typography';import Carousel from'react-bootstrap/Carousel';import Collapse from'@material-ui/core/Collapse';import CloseIcon from'@material-ui/icons/Close';import IconButton from'@material-ui/core/IconButton';import VisibilityOff from\"@material-ui/icons/VisibilityOff\";import InputAdornment from\"@material-ui/core/InputAdornment\";import VisibilityIcon from'@material-ui/icons/Visibility';import VisibilityOffIcon from'@material-ui/icons/VisibilityOff';import'./style.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Copyright(){return/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"textSecondary\",align:\"center\",children:['Copyright Â© ',/*#__PURE__*/_jsx(Link,{color:\"inherit\",href:\"https://material-ui.com/\",children:\"Your Website\"}),' ',new Date().getFullYear(),'.']});}var useStyles=makeStyles(function(theme){return{root:{marginTop:'20px'},image:{position:'relative',backgroundImage:\"url(\".concat(InstaPhoto,\")\"),backgroundRepeat:'no-repeat',alignSelf:'center',backgroundPosition:'0 0',backgroundSize:'454px 618px',flexBasis:'454px',height:'618px'},slider:{width:'54%',margin:'99px 0 0 151px',position:'relative',left:'-3px',bottom:'3px'},formGrid:{marginTop:'70px'},paper:{margin:theme.spacing(8,4),display:'flex',flexDirection:'column',alignItems:'center'},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:'100%',marginTop:theme.spacing(1)},profileBtn:{paddingTop:'10px',marginTop:'10px',marginBottom:'10px'},imageIcon:{marginBottom:'8px',marginRight:'5px'},submit:{margin:theme.spacing(3,0,2)}};});var SignIn=function SignIn(_ref){var setIsAuth=_ref.setIsAuth;var dispatch=useDispatch();var classes=useStyles();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),emailModal=_useState2[0],setEmailModal=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),openAlert=_useState6[0],setOpenAlert=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showPassword=_useState8[0],setShowPassword=_useState8[1];var history=useHistory();var closeModal=function closeModal(){return setEmailModal(false);};var openModal=function openModal(){return setEmailModal(true);};var handleClickShowPassword=function handleClickShowPassword(){setShowPassword(!showPassword);};var formik=useFormik({initialValues:{email:'',password:''},validationSchema:Yup.object({username:Yup.string().required('sorry username is required'),password:Yup.string().required('password is required').min(6,'password have to be at least 6 characters long')}),onSubmit:function onSubmit(values,_ref2){var resetForm=_ref2.resetForm;loginUser(values);}});var errorHelper=function errorHelper(formik,values){return{error:formik.errors[values]&&formik.touched[values]?true:false,helperText:formik.errors[values]&&formik.touched[values]?formik.errors[values]:null};};var loginUser=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('/auth/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(values)});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;if(data.success){localStorage.setItem('user',JSON.stringify(data.user));setIsAuth(true);history.push('/');}else{setMessage(data.error);setOpenAlert(true);}_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function loginUser(_x){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Grid,{container:true,className:classes.root,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:2}),/*#__PURE__*/_jsx(Hidden,{mdDown:true,children:/*#__PURE__*/_jsx(Grid,{item:true,md:4,className:classes.image,children:/*#__PURE__*/_jsxs(Carousel,{fade:true,className:classes.slider,interval:2000,children:[/*#__PURE__*/_jsx(Carousel.Item,{children:/*#__PURE__*/_jsx(\"img\",{className:\"d-block w-100\",src:Slider1,alt:\"First slide\"})}),/*#__PURE__*/_jsx(Carousel.Item,{children:/*#__PURE__*/_jsx(\"img\",{className:\"d-block w-100\",src:Slider2,alt:\" Second slide\"})}),/*#__PURE__*/_jsx(Carousel.Item,{children:/*#__PURE__*/_jsx(\"img\",{className:\"d-block w-100\",src:Slider3,alt:\"Third slide\"})})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,component:Paper,square:true,className:classes.formGrid,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://i.imgur.com/zqpwkLQ.png\",alt:\"insta\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,noValidate:true,onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({variant:\"outlined\",margin:\"normal\",fullWidth:true,label:\"user name\",name:\"email\",autoFocus:true},formik.getFieldProps('username')),errorHelper(formik,'username'))),/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsxs(IconButton,{onClick:handleClickShowPassword,children:[\" \",showPassword?/*#__PURE__*/_jsx(VisibilityOffIcon,{}):/*#__PURE__*/_jsx(VisibilityIcon,{}),\"  \"]})})},variant:\"outlined\",margin:\"normal\",fullWidth:true,name:\"password\",label:\"Password\",type:showPassword?\"text\":\"password\"},formik.getFieldProps('password')),errorHelper(formik,'password'))),/*#__PURE__*/_jsx(Collapse,{in:openAlert,children:/*#__PURE__*/_jsx(Alert,{severity:\"error\",action:/*#__PURE__*/_jsxs(IconButton,{color:\"inherit\",size:\"small\",onClick:function onClick(){return setOpenAlert(false);},children:[\" \",/*#__PURE__*/_jsx(CloseIcon,{fontSize:\"inherit\"}),\" \"]}),children:message})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,children:\" Sign In \"}),/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:true,children:/*#__PURE__*/_jsx(Link,{href:\"\",variant:\"body2\",onClick:function onClick(){return openModal();},children:\" Forgot password? \"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Link,{href:\"/signup\",variant:\"body2\",children:\" Don't have an account? Sign Up \"})})]}),/*#__PURE__*/_jsx(Box,{mt:5,children:/*#__PURE__*/_jsx(Copyright,{})})]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:2}),/*#__PURE__*/_jsxs(Modal,{size:\"lg\",centered:true,show:emailModal,onHide:closeModal,children:[/*#__PURE__*/_jsxs(Modal.Header,{children:[\" \",/*#__PURE__*/_jsx(Modal.Title,{children:\" Update your Password \"}),\" \"]}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(EmailStepper,{setEmailModal:setEmailModal})})]})]});};export default SignIn;//     <Grid container spacing={3}>\n//         <Grid item xs={6}>\n//             <img src={TweetImage} alt=\"tweet\" className=\"tweet-image\"/>\n//         </Grid>\n//         <Grid item xs={6}>\n//             <div className=\"auth-div\" style={{dispaly: 'auto',flexWrap:'wrap', justifyContent:'center'}}>\n//                 <div> \n//                     <h1 className=\"register-title\">{message}</h1>\n//                 </div>\n//             <Formik\n//             initialValues={{firstname:'', lastname:'',username:'',password:'', isregister:false}}\n//             onSubmit={(values,{resetForm}) => addUser(values)}\n//             validationSchema={validationSchema}\n//             >\n//             {(props) => (\n//                 <form className={classes.root} onSubmit={props.handleSubmit} autoComplete=\"off\">\n//                 {register ? \n//                 <>\n//                 <FormControl variant=\"outlined\" className=\"mb-3\">\n//                     <TextField name=\"firstname\" label=\"enter your first name\" variant=\"outlined\" {...props.getFieldProps('firstname')} {...errorHelper(props,'firstname')}/>   \n//                 </FormControl>\n//                 <FormControl variant=\"outlined\" className=\"mb-3\">\n//                     <TextField  name=\"lastname\" label=\"enter your last name\" variant=\"outlined\" {...props.getFieldProps('lastname')} {...errorHelper(props,'lastname')}/>   \n//                 </FormControl>\n//                 <FormControl variant=\"outlined\" className=\"mb-3\">\n//                     <TextField name=\"password\" label=\"upload your profile image\" variant=\"outlined\" {...props.getFieldProps('image')} {...errorHelper(props,'image')}/>   \n//                 </FormControl>\n//                 </>\n//                 :null}\n//                 <FormControl variant=\"outlined\" className=\"mb-3\">\n//                     <TextField name=\"username\" label=\"enter your email\" variant=\"outlined\" {...props.getFieldProps('username')} {...errorHelper(props,'username')}/>   \n//                 </FormControl>\n//                 <FormControl variant=\"outlined\" className=\"mb-3\">\n//                     <TextField type=\"password\" name=\"password\" label=\"enter your password\" variant=\"outlined\" {...props.getFieldProps('password')} {...errorHelper(props,'password')}/>   \n//                 </FormControl>\n//                 <Button className=\"my-3\" variant=\"contained\" color=\"primary\" type=\"submit\" size=\"large\"> {register ? 'Register' : 'Login'} <TwitterIcon style={{margin:'5px'}}/> </Button>\n//                 <Button onClick={() => handleRegisterState(props.setFieldValue)} variant=\"outlined\" color=\"default\" size=\"small\">Want to {!register ? 'Register' : 'Login'}?</Button>\n//                 <Button onClick={() => openModal()} variant=\"outlined\" color=\"secondary\" size=\"small\" className=\"mt-3\">Forgot your password?</Button>\n//                 <h6 className=\"mt-3\">Lets do it faster!</h6>\n//                 <button type=\"button\" className=\"btn btn-primary gplus mt-2\" onClick={() => registerWithGoogle()}><i className=\"fa fa-google\"></i> Google</button> \n//             </form>\n//             )}\n//             </Formik>  \n//         </div>\n//      </Grid>\n//      <Modal size=\"lg\" centered show={emailModal} onHide={closeModal}>\n//                 <Modal.Header > <Modal.Title> Update your Password </Modal.Title> </Modal.Header>\n//                 <Modal.Body>\n//                    <EmailStepper setEmailModal={setEmailModal}/>\n//                 </Modal.Body>\n//             </Modal>\n//    </Grid>\n// const handleRegisterState = (setFieldValue) => {\n//     setFieldValue('isregister',!register)\n//     setRegister(!register)\n// }\n// const validationSchema = Yup.object({\n//     isregister:Yup.boolean(),\n//     firstname:Yup.string()\n//     .when('isregister',{\n//         is: true,\n//         then:Yup.string().required('first name is required')\n//     }),\n//     lastname:Yup.string()\n//     .when('isregister',{\n//         is: true,\n//         then:Yup.string().required('last name is required')\n//     }),\n//     image:Yup.string()\n//     .when('isregister',{\n//         is: true,\n//         then:Yup.string().required('profile image is required')\n//     }),\n//     username:Yup.string()\n//     .required('email is required'),\n//     password:Yup.string()\n//     .required('password is required'),\n// })","map":{"version":3,"sources":["C:/Users/×××× ××/Desktop/Projects/Instagram-master/client/src/components/SignIn/SignIn.js"],"names":["React","useState","useDispatch","useHistory","authUser","InstaPhoto","Slider1","Slider2","Slider3","Grid","Hidden","useFormik","Yup","Modal","TextField","Button","makeStyles","Alert","EmailStepper","Link","Paper","Box","Typography","Carousel","Collapse","CloseIcon","IconButton","VisibilityOff","InputAdornment","VisibilityIcon","VisibilityOffIcon","Copyright","Date","getFullYear","useStyles","theme","root","marginTop","image","position","backgroundImage","backgroundRepeat","alignSelf","backgroundPosition","backgroundSize","flexBasis","height","slider","width","margin","left","bottom","formGrid","paper","spacing","display","flexDirection","alignItems","avatar","backgroundColor","palette","secondary","main","form","profileBtn","paddingTop","marginBottom","imageIcon","marginRight","submit","SignIn","setIsAuth","dispatch","classes","emailModal","setEmailModal","message","setMessage","openAlert","setOpenAlert","showPassword","setShowPassword","history","closeModal","openModal","handleClickShowPassword","formik","initialValues","email","password","validationSchema","object","username","string","required","min","onSubmit","values","resetForm","loginUser","errorHelper","error","errors","touched","helperText","fetch","method","headers","body","JSON","stringify","response","json","data","success","localStorage","setItem","user","push","console","log","handleSubmit","getFieldProps","endAdornment"],"mappings":"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","sourcesContent":["import React,{ useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport { authUser } from '../../store/actions'\nimport InstaPhoto from '../../images/insta.png'\nimport Slider1 from '../../images/slider1.jpg'\nimport Slider2 from '../../images/slider2.jpg'\nimport Slider3 from '../../images/slider3.jpg'\nimport Grid from '@material-ui/core/Grid';\nimport { Hidden } from '@material-ui/core';\nimport {useFormik} from 'formik';\nimport * as Yup from 'yup';\nimport Modal from 'react-bootstrap/Modal'\nimport {TextField, Button} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Alert from '@material-ui/lab/Alert';\nimport EmailStepper from './emailStepper'\nimport Link from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport Carousel from 'react-bootstrap/Carousel'\nimport Collapse from '@material-ui/core/Collapse';\nimport CloseIcon from '@material-ui/icons/Close';\nimport IconButton from '@material-ui/core/IconButton';\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\nimport './style.css'\n\nfunction Copyright() {\n    return (\n      <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n        {'Copyright Â© '}\n        <Link color=\"inherit\" href=\"https://material-ui.com/\">\n          Your Website\n        </Link>{' '}\n        {new Date().getFullYear()}\n        {'.'}\n      </Typography>\n    );\n  }\n  \n  const useStyles = makeStyles((theme) => ({\n    root: {\n      marginTop:'20px'\n    },\n    image: {\n      position:'relative',\n      backgroundImage: `url(${InstaPhoto})`,\n      backgroundRepeat: 'no-repeat',\n      alignSelf: 'center',\n      backgroundPosition: '0 0',\n      backgroundSize: '454px 618px',\n      flexBasis: '454px',\n      height: '618px',\n    \n    },\n    slider: {\n      width:'54%',\n      margin: '99px 0 0 151px',\n      position: 'relative',\n      left:'-3px',\n      bottom: '3px'\n    },\n    formGrid: {\n      marginTop:'70px',\n    },\n    paper: {\n      margin: theme.spacing(8, 4),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n      width: '100%',\n      marginTop: theme.spacing(1),\n    },\n    profileBtn: {\n      paddingTop:'10px',\n      marginTop:'10px',\n      marginBottom:'10px'\n    },\n    imageIcon: {\n      marginBottom:'8px',\n      marginRight:'5px'\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n  }))\n\n\n\n\n\nconst SignIn = ({ setIsAuth }) => {\n    const dispatch = useDispatch()\n    const classes = useStyles()\n    const [emailModal, setEmailModal] = useState(false)\n    const [message, setMessage] = useState('')\n    const [openAlert, setOpenAlert] = useState(false)\n    const [showPassword, setShowPassword] = useState(false)\n    const history = useHistory()\n  \n    const closeModal = () => setEmailModal(false)\n    const openModal = () => setEmailModal(true)\n    const  handleClickShowPassword = () => {\n      setShowPassword(!showPassword)\n    }\n    const formik = useFormik({\n        initialValues:{email:'',password:''},\n        validationSchema:Yup.object({\n            username:Yup.string()\n            .required('sorry username is required'),\n            password:Yup.string()\n            .required('password is required')\n            .min(6, 'password have to be at least 6 characters long')\n        }),\n        onSubmit:(values,{resetForm}) => {                               \n          loginUser(values)\n        }\n    })\n  \n    const errorHelper = (formik,values) => ({\n        error: formik.errors[values] && formik.touched[values] ? true : false,\n        helperText: formik.errors[values] && formik.touched[values] ? formik.errors[values]:null\n    })\n\n    const loginUser = async (values) =>{\n      try {\n        const response = await fetch('/auth/login', { method: 'POST',\n            headers: {\n                'Content-Type':'application/json'\n            },\n            body: JSON.stringify(values)\n        })\n        const data = await response.json()\n       if(data.success){\n          localStorage.setItem('user',JSON.stringify(data.user))\n         setIsAuth(true)\n        history.push('/')\n       } else {\n        setMessage(data.error)\n        setOpenAlert(true)\n       }  \n    } catch(error) {\n       console.log(error)\n    }\n  }\n    return (\n        <Grid container className={classes.root}>\n            <Grid item xs={2}></Grid>\n            <Hidden mdDown>\n              {/* Instagram image */}\n              <Grid item md={4} className={classes.image}>\n                <Carousel fade className={classes.slider} interval={2000}>\n                  <Carousel.Item>\n                    <img className=\"d-block w-100\" src={Slider1} alt=\"First slide\" />\n                  </Carousel.Item>\n                  <Carousel.Item>\n                    <img className=\"d-block w-100\" src={Slider2} alt=\" Second slide\"/>\n                  </Carousel.Item>\n                  <Carousel.Item>\n                  <img className=\"d-block w-100\" src={Slider3} alt=\"Third slide\"/>\n                  </Carousel.Item>\n                </Carousel>\n              </Grid>\n          </Hidden>\n\n            {/* Sign in form */}\n            <Grid item xs={12} sm={6} md={4}  component={Paper}  square className={classes.formGrid}>\n              <div className={classes.paper}>\n              <img src=\"https://i.imgur.com/zqpwkLQ.png\" alt=\"insta\" />\n              <form className={classes.form} noValidate onSubmit={formik.handleSubmit}>\n                  <TextField  variant=\"outlined\" margin=\"normal\" fullWidth label=\"user name\" name=\"email\" autoFocus {...formik.getFieldProps('username')} {...errorHelper(formik,'username')}/>\n                  <TextField \n                  InputProps={{\n                    endAdornment: (\n                      <InputAdornment position=\"end\">\n                        <IconButton onClick={handleClickShowPassword}> {showPassword ? <VisibilityOffIcon /> : <VisibilityIcon />}  </IconButton>\n                      </InputAdornment>\n                    )}}  \n                  variant=\"outlined\" margin=\"normal\" fullWidth name=\"password\" label=\"Password\" type={showPassword ? \"text\": \"password\"} {...formik.getFieldProps('password')} {...errorHelper(formik,'password')}/>\n                  {/* Error Alert */}\n                    <Collapse in={openAlert}>\n                      <Alert\n                      severity=\"error\"\n                      action={ <IconButton color=\"inherit\" size=\"small\" onClick={() => setOpenAlert(false) }> <CloseIcon fontSize=\"inherit\" /> </IconButton>}>\n                      {message}\n                      </Alert>\n                    </Collapse>\n\n                    <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit} > Sign In </Button>\n                    <Grid container>\n                      <Grid item xs>\n                        <Link href=\"\" variant=\"body2\" onClick={() => openModal()}> Forgot password? </Link>\n                      </Grid>\n                      <Grid item>\n                        <Link href=\"/signup\" variant=\"body2\"> Don't have an account? Sign Up </Link>\n                      </Grid>\n                    </Grid>\n              <Box mt={5}>\n                <Copyright />\n              </Box>\n            </form>\n          </div>\n        </Grid>\n\n        <Grid item xs={2}></Grid>\n        \n        {/* Modal */}\n          <Modal size=\"lg\" centered show={emailModal} onHide={closeModal}>\n            <Modal.Header> <Modal.Title> Update your Password </Modal.Title> </Modal.Header>\n            <Modal.Body>\n              <EmailStepper setEmailModal={setEmailModal}/>\n            </Modal.Body>\n        </Modal>\n      </Grid>\n    )\n}\nexport default SignIn\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//     <Grid container spacing={3}>\n//         <Grid item xs={6}>\n//             <img src={TweetImage} alt=\"tweet\" className=\"tweet-image\"/>\n//         </Grid>\n        \n//         <Grid item xs={6}>\n//             <div className=\"auth-div\" style={{dispaly: 'auto',flexWrap:'wrap', justifyContent:'center'}}>\n//                 <div> \n//                     <h1 className=\"register-title\">{message}</h1>\n//                 </div>\n//             <Formik\n//             initialValues={{firstname:'', lastname:'',username:'',password:'', isregister:false}}\n//             onSubmit={(values,{resetForm}) => addUser(values)}\n//             validationSchema={validationSchema}\n//             >\n//             {(props) => (\n//                 <form className={classes.root} onSubmit={props.handleSubmit} autoComplete=\"off\">\n//                 {register ? \n//                 <>\n//                 <FormControl variant=\"outlined\" className=\"mb-3\">\n//                     <TextField name=\"firstname\" label=\"enter your first name\" variant=\"outlined\" {...props.getFieldProps('firstname')} {...errorHelper(props,'firstname')}/>   \n//                 </FormControl>\n\n//                 <FormControl variant=\"outlined\" className=\"mb-3\">\n//                     <TextField  name=\"lastname\" label=\"enter your last name\" variant=\"outlined\" {...props.getFieldProps('lastname')} {...errorHelper(props,'lastname')}/>   \n//                 </FormControl>\n\n//                 <FormControl variant=\"outlined\" className=\"mb-3\">\n//                     <TextField name=\"password\" label=\"upload your profile image\" variant=\"outlined\" {...props.getFieldProps('image')} {...errorHelper(props,'image')}/>   \n//                 </FormControl>\n//                 </>\n//                 :null}\n//                 <FormControl variant=\"outlined\" className=\"mb-3\">\n//                     <TextField name=\"username\" label=\"enter your email\" variant=\"outlined\" {...props.getFieldProps('username')} {...errorHelper(props,'username')}/>   \n//                 </FormControl>\n\n//                 <FormControl variant=\"outlined\" className=\"mb-3\">\n//                     <TextField type=\"password\" name=\"password\" label=\"enter your password\" variant=\"outlined\" {...props.getFieldProps('password')} {...errorHelper(props,'password')}/>   \n//                 </FormControl>\n\n                \n//                 <Button className=\"my-3\" variant=\"contained\" color=\"primary\" type=\"submit\" size=\"large\"> {register ? 'Register' : 'Login'} <TwitterIcon style={{margin:'5px'}}/> </Button>\n//                 <Button onClick={() => handleRegisterState(props.setFieldValue)} variant=\"outlined\" color=\"default\" size=\"small\">Want to {!register ? 'Register' : 'Login'}?</Button>\n//                 <Button onClick={() => openModal()} variant=\"outlined\" color=\"secondary\" size=\"small\" className=\"mt-3\">Forgot your password?</Button>\n//                 <h6 className=\"mt-3\">Lets do it faster!</h6>\n//                 <button type=\"button\" className=\"btn btn-primary gplus mt-2\" onClick={() => registerWithGoogle()}><i className=\"fa fa-google\"></i> Google</button> \n//             </form>\n//             )}\n//             </Formik>  \n//         </div>\n//      </Grid>\n//      <Modal size=\"lg\" centered show={emailModal} onHide={closeModal}>\n//                 <Modal.Header > <Modal.Title> Update your Password </Modal.Title> </Modal.Header>\n//                 <Modal.Body>\n//                    <EmailStepper setEmailModal={setEmailModal}/>\n//                 </Modal.Body>\n//             </Modal>\n//    </Grid>\n\n      // const handleRegisterState = (setFieldValue) => {\n        //     setFieldValue('isregister',!register)\n        //     setRegister(!register)\n            \n        // }\n\n// const validationSchema = Yup.object({\n    //     isregister:Yup.boolean(),\n    //     firstname:Yup.string()\n    //     .when('isregister',{\n    //         is: true,\n    //         then:Yup.string().required('first name is required')\n    //     }),\n    //     lastname:Yup.string()\n    //     .when('isregister',{\n    //         is: true,\n    //         then:Yup.string().required('last name is required')\n    //     }),\n    //     image:Yup.string()\n    //     .when('isregister',{\n    //         is: true,\n    //         then:Yup.string().required('profile image is required')\n    //     }),\n    //     username:Yup.string()\n    //     .required('email is required'),\n    //     password:Yup.string()\n    //     .required('password is required'),\n    // })"]},"metadata":{},"sourceType":"module"}