{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u05DE\\u05DC\\u05D0\\u05DA \\u05D2\\u05DC\\\\Desktop\\\\Projects\\\\Instagram-master\\\\client\\\\src\\\\components\\\\story\\\\Story.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport StoryModal from './StoryModal'; // material ui\n\nimport { Avatar } from '@material-ui/core';\nimport { StylesProvider } from '@material-ui/core/styles';\nimport AddCircleIcon from '@material-ui/icons/AddCircle'; // react-stories\n\nimport Stories from 'react-insta-stories'; // Cloudinary\n\nimport { Image } from 'cloudinary-react'; // css\n\nimport './style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Story = ({\n  storiesUsers\n}) => {\n  _s();\n\n  const [storyUsers, setStoryUsers] = useState([]);\n  const [stories, setStories] = useState([]);\n  const [storyModal, setStoryModal] = useState(false);\n\n  const openStory = (stories, username, profile) => {\n    const storiesArr = [];\n    stories.forEach(story => {\n      const photoArr = story.photo.split(\"upload/\");\n      const storyObj = {\n        url: `${photoArr[0]}upload/w_432,h_500,c_scale/${photoArr[1]}`,\n        header: {\n          heading: username,\n          profileImage: profile\n        }\n      };\n      storiesArr.push(storyObj);\n    });\n    setStories(storiesArr);\n  };\n\n  useEffect(() => {\n    setStoryUsers(storiesUsers);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(StylesProvider, {\n    children: [stories.length !== 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overlays\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'fixed',\n          top: '20%',\n          left: '30%',\n          zIndex: '2'\n        },\n        children: /*#__PURE__*/_jsxDEV(Stories, {\n          width: 432,\n          height: 500,\n          stories: stories,\n          onAllStoriesEnd: () => setStories([])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stories\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"story_users\",\n        children: storyUsers && storyUsers.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"story-div\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(Avatar, {\n            style: {\n              height: '70px',\n              width: '70px',\n              border: '2px solid #D82B7D'\n            },\n            onClick: () => openStory(user.Stories, user.username, user.profileUrl),\n            children: /*#__PURE__*/_jsxDEV(Image, {\n              cloudName: \"malachcloud\",\n              publicId: user.profile,\n              width: \"70\",\n              height: \"70\",\n              crop: \"scale\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 63\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"story_username\",\n            children: user.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 21\n          }, this)]\n        }, user.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add_Story_btn\",\n        id: \"stepThree\",\n        title: \"Add story\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(AddCircleIcon, {\n          onClick: () => setStoryModal(true),\n          style: {\n            fill: '#ED4A4D'\n          },\n          fontSize: \"large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 74\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(StoryModal, {\n      storyModal: storyModal,\n      setStoryModal: setStoryModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Story, \"NnHzmoNhgQNlRUnFRBI0bA/WJUs=\");\n\n_c = Story;\nexport default Story;\n\nvar _c;\n\n$RefreshReg$(_c, \"Story\");","map":{"version":3,"sources":["C:/Users/מלאך גל/Desktop/Projects/Instagram-master/client/src/components/story/Story.js"],"names":["React","useState","useEffect","StoryModal","Avatar","StylesProvider","AddCircleIcon","Stories","Image","Story","storiesUsers","storyUsers","setStoryUsers","stories","setStories","storyModal","setStoryModal","openStory","username","profile","storiesArr","forEach","story","photoArr","photo","split","storyObj","url","header","heading","profileImage","push","length","position","top","left","zIndex","map","user","height","width","border","profileUrl","id","fill"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport StoryModal from './StoryModal'\n// material ui\nimport { Avatar } from '@material-ui/core';\nimport { StylesProvider } from '@material-ui/core/styles';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\n// react-stories\nimport Stories from 'react-insta-stories';\n// Cloudinary\nimport {Image} from 'cloudinary-react';\n// css\nimport './style.css'\n\nconst Story = ({ storiesUsers }) => {\n    const [storyUsers, setStoryUsers] = useState([])\n    const [stories, setStories] = useState([])\n    const [storyModal, setStoryModal] = useState(false)\n\n    const openStory = (stories,username,profile) => {\n       const storiesArr = []\n       stories.forEach(story => {\n           const photoArr = story.photo.split(\"upload/\")\n           const storyObj = {\n                url:`${photoArr[0]}upload/w_432,h_500,c_scale/${photoArr[1]}`,\n                header: {\n                        heading: username,\n                        profileImage: profile , \n                    }\n                }\n                storiesArr.push(storyObj)    \n    })\n    setStories(storiesArr)\n}\n\n    useEffect(() => {\n        setStoryUsers(storiesUsers)\n    }, [])\n  \n   \n    return (\n    <StylesProvider>\n        {stories.length !== 0 && \n        <>\n        <div className=\"overlays\"></div>\n        <div style={{position: 'fixed', top:'20%', left:'30%', zIndex:'2'}}>\n          <Stories  width={432} height={500} stories={stories} onAllStoriesEnd={() => setStories([])}/>\n        </div>\n        </>\n        }\n        <div className=\"stories\">\n            <div className=\"story_users\">\n                {storyUsers && storyUsers.map(user => (\n                    <div key={user.id} className=\"story-div\"> <Avatar style={{height:'70px', width:'70px', border:'2px solid #D82B7D'}} onClick={() => openStory(user.Stories,user.username,user.profileUrl)}>\n                    <Image cloudName=\"malachcloud\" publicId={user.profile} width=\"70\" height=\"70\" crop=\"scale\" />\n                    </Avatar>\n                    <span className=\"story_username\">{user.username}</span>\n                    </div>\n                ))}\n        </div>\n        <div className=\"add_Story_btn\" id=\"stepThree\" title=\"Add story\"> <AddCircleIcon onClick={() => setStoryModal(true)} style={{fill:'#ED4A4D'}} fontSize=\"large\"/> </div>\n    </div>\n    <StoryModal storyModal={storyModal} setStoryModal={setStoryModal}/>\n</StylesProvider>\n    ) \n}\n\nexport default Story\n\n "]},"metadata":{},"sourceType":"module"}