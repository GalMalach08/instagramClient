{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u05DE\\u05DC\\u05D0\\u05DA \\u05D2\\u05DC\\\\Desktop\\\\Projects\\\\Instagram-master\\\\client\\\\src\\\\hoc\\\\Auth.js\";\nimport React, { useState, useEffect } from 'react'; // imrse\n\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function authgaurd(ComposedComponent, setIsAuthenticate) {\n  var _s = $RefreshSig$();\n\n  const AuthenticationCheck = props => {\n    _s();\n\n    const history = useHistory();\n    const [isAuth, setIsAuth] = useState(false);\n\n    const isUserAuthenticate = async () => {\n      // const response = await fetch('/auth/isauth')\n      const user = JSON.parse(localStorage.getItem('user')); // const { success } = await response.json()\n\n      if (user) {\n        setIsAuthenticate(true);\n        console.log('auth');\n        setIsAuth(true);\n      } else {\n        setIsAuthenticate(false);\n        setIsAuth(false);\n        console.log('not auth');\n        history.push('/signin');\n      }\n    };\n\n    useEffect(() => {\n      isUserAuthenticate();\n    }, []);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: isAuth ? /*#__PURE__*/_jsxDEV(ComposedComponent, { ...props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 14\n      }, this) : null\n    }, void 0, false);\n  };\n\n  _s(AuthenticationCheck, \"XJV1jaAtvasANK6Yj8iYk6hcUT0=\", false, function () {\n    return [useHistory];\n  });\n\n  return AuthenticationCheck;\n}","map":{"version":3,"sources":["C:/Users/מלאך גל/Desktop/Projects/Instagram-master/client/src/hoc/Auth.js"],"names":["React","useState","useEffect","useHistory","authgaurd","ComposedComponent","setIsAuthenticate","AuthenticationCheck","props","history","isAuth","setIsAuth","isUserAuthenticate","user","JSON","parse","localStorage","getItem","console","log","push"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C,C,CAAmD;;AACnD,SAASC,UAAT,QAA2B,kBAA3B;;;AAEA,eAAe,SAASC,SAAT,CAAmBC,iBAAnB,EAAsCC,iBAAtC,EAAyD;AAAA;;AACpE,QAAMC,mBAAmB,GAAIC,KAAD,IAAW;AAAA;;AACnC,UAAMC,OAAO,GAAGN,UAAU,EAA1B;AACA,UAAM,CAACO,MAAD,EAASC,SAAT,IAAsBV,QAAQ,CAAC,KAAD,CAApC;;AAEA,UAAMW,kBAAkB,GAAG,YAAY;AACrC;AACA,YAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb,CAFqC,CAGrC;;AACA,UAAIJ,IAAJ,EAAU;AACRP,QAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACAY,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAR,QAAAA,SAAS,CAAC,IAAD,CAAT;AACD,OAJD,MAKK;AACHL,QAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACAK,QAAAA,SAAS,CAAC,KAAD,CAAT;AACAO,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAV,QAAAA,OAAO,CAACW,IAAR,CAAa,SAAb;AACD;AACF,KAfD;;AAiBAlB,IAAAA,SAAS,CAAC,MAAM;AACbU,MAAAA,kBAAkB;AACpB,KAFQ,EAEN,EAFM,CAAT;AAIE,wBACE;AAAA,gBACEF,MAAM,gBACP,QAAC,iBAAD,OAAuBF;AAAvB;AAAA;AAAA;AAAA;AAAA,cADO,GAEN;AAHF,qBADF;AAOD,GAhCL;;AADoE,KAC9DD,mBAD8D;AAAA,YAEhDJ,UAFgD;AAAA;;AAkCpE,SAAOI,mBAAP;AACH","sourcesContent":["import React, { useState, useEffect } from 'react' // imrse\nimport { useHistory } from \"react-router-dom\"\n        \nexport default function authgaurd(ComposedComponent, setIsAuthenticate) {\n    const AuthenticationCheck = (props) => {\n        const history = useHistory()\n        const [isAuth, setIsAuth] = useState(false)\n\n        const isUserAuthenticate = async () => {\n          // const response = await fetch('/auth/isauth')\n          const user = JSON.parse(localStorage.getItem('user'))\n          // const { success } = await response.json()\n          if (user) {\n            setIsAuthenticate(true)\n            console.log('auth');\n            setIsAuth(true) \n          }\n          else {\n            setIsAuthenticate(false)\n            setIsAuth(false)\n            console.log('not auth');\n            history.push('/signin')\n          } \n        }     \n\n        useEffect(() => {\n           isUserAuthenticate()\n        }, [])\n        \n          return(\n            <>\n            { isAuth ?\n             <ComposedComponent {...props} /> \n            : null}\n            </>\n            )\n        }\n    return AuthenticationCheck\n}\n    \n        "]},"metadata":{},"sourceType":"module"}