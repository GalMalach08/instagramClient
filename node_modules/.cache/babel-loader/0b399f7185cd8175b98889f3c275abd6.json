{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u05DE\\u05DC\\u05D0\\u05DA \\u05D2\\u05DC\\\\Desktop\\\\Projects\\\\Instagram-master\\\\client\\\\src\\\\components\\\\signup\\\\SignUp.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport InstaPhoto from '../../images/insta.png';\nimport Slider1 from '../../images/slider1.jpg';\nimport Slider2 from '../../images/slider2.jpg';\nimport Slider3 from '../../images/slider3.jpg';\nimport Grid from '@material-ui/core/Grid';\nimport ReCaptcha from 'react-google-recaptcha';\nimport { Formik, Form } from 'formik';\nimport { Input } from '@material-ui/core';\nimport * as Yup from 'yup';\nimport { TextField, Button } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Link from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport Carousel from 'react-bootstrap/Carousel';\nimport ImageIcon from '@material-ui/icons/Image';\nimport { Hidden } from '@material-ui/core';\nimport Collapse from '@material-ui/core/Collapse';\nimport CloseIcon from '@material-ui/icons/Close';\nimport IconButton from '@material-ui/core/IconButton';\nimport Alert from '@material-ui/lab/Alert';\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\nimport './style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Copyright() {\n  return /*#__PURE__*/_jsxDEV(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    align: \"center\",\n    children: ['Copyright Â© ', /*#__PURE__*/_jsxDEV(Link, {\n      color: \"inherit\",\n      href: \"https://material-ui.com/\",\n      children: \"Your Website\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this), ' ', new Date().getFullYear(), '.']\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 7\n  }, this);\n}\n\n_c = Copyright;\nconst useStyles = makeStyles(theme => ({\n  root: {\n    marginTop: '20px'\n  },\n  image: {\n    position: 'relative',\n    backgroundImage: `url(${InstaPhoto})`,\n    backgroundRepeat: 'no-repeat',\n    alignSelf: 'center',\n    backgroundPosition: '0 0',\n    backgroundSize: '454px 618px',\n    flexBasis: '454px',\n    height: '618px'\n  },\n  slider: {\n    width: '54%',\n    margin: '99px 0 0 151px',\n    position: 'relative',\n    left: '-3px',\n    bottom: '3px'\n  },\n  formGrid: {\n    marginTop: '70px',\n    margin: 'auto'\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: '100%',\n    marginTop: theme.spacing(1)\n  },\n  profileBtn: {\n    paddingTop: '10px',\n    marginTop: '10px',\n    marginBottom: '10px'\n  },\n  imageIcon: {\n    marginBottom: '8px',\n    marginRight: '5px'\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\n\nconst SignUp = ({\n  setIsAuth\n}) => {\n  _s();\n\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const reRef = useRef();\n  const [isProfile, setIsProfile] = useState(false);\n  const [message, setMessage] = useState('');\n  const [openAlert, setOpenAlert] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  const [fileName, setFileName] = useState('');\n  const history = useHistory(); // Form validation\n\n  const validationSchema = Yup.object().shape({\n    username: Yup.string().required('user name is required!'),\n    password: Yup.string().required('password is required!').min(6, 'password have to be at least 6 characters long'),\n    confirmPassword: Yup.string().required('confirm your password!').oneOf([Yup.ref('password'), null], 'Passwords must match'),\n    photo: Yup.string().required('profile image is required')\n  });\n\n  const errorHelper = (formik, values) => ({\n    error: formik.errors[values] && formik.touched[values] ? true : false,\n    helperText: formik.errors[values] && formik.touched[values] ? formik.errors[values] : null\n  }); // Handle password visiblity \n\n\n  const handleClickShowPassword = () => {\n    setShowPassword(!showPassword);\n  };\n\n  const handleClickConfirmPassword = () => {\n    setShowConfirmPassword(!showConfirmPassword);\n  };\n\n  const handleChangeImage = (e, setFieldValue) => {\n    setFieldValue(\"photo\", e.target.files[0]);\n\n    if (e.target.files.length === 0) {\n      setIsProfile(false);\n      setFileName('');\n    } else {\n      setIsProfile(true);\n      setFileName(e.target.files[0].name);\n    }\n  }; // Edit the profile image\n\n\n  const editProfile = values => {\n    values.fileName = fileName;\n\n    if (typeof values.photo === 'object') {\n      const reader = new FileReader();\n      reader.readAsDataURL(values.photo);\n\n      reader.onloadend = () => {\n        values.photo = reader.result;\n        signUpUser(values);\n      };\n    } else {\n      signUpUser(values);\n    }\n  }; // Add new user\n\n\n  const signUpUser = async values => {\n    try {\n      const token = await reRef.current.getValue();\n      const response = await fetch('https://instappmalach.herokuapp.com/auth/signup', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ ...values,\n          token\n        })\n      });\n      const data = await response.json();\n      reRef.current.reset();\n\n      if (data.user) {\n        localStorage.setItem('user', JSON.stringify({ ...data.user,\n          newUser: true\n        }));\n        dispatch({\n          type: 'AUTH_USER',\n          payload: data.user\n        });\n        setIsAuth(true);\n        history.push('/');\n      } else {\n        console.log(data.error);\n        setMessage(data.error);\n        setOpenAlert(true);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    className: classes.root,\n    children: [/*#__PURE__*/_jsxDEV(Hidden, {\n      mdDown: true,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 1,\n        md: 2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2,\n        lg: 4,\n        className: classes.image,\n        children: /*#__PURE__*/_jsxDEV(Carousel, {\n          fade: true,\n          className: classes.slider,\n          interval: 2000,\n          children: [/*#__PURE__*/_jsxDEV(Carousel.Item, {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"d-block w-100\",\n              src: Slider1,\n              alt: \"First slide\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Carousel.Item, {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"d-block w-100\",\n              src: Slider2,\n              alt: \" Second slide\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Carousel.Item, {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"d-block w-100\",\n              src: Slider3,\n              alt: \"Third slide\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      md: 4,\n      component: Paper,\n      elevation: 6,\n      square: true,\n      className: classes.formGrid,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.paper,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://i.imgur.com/zqpwkLQ.png\",\n          alt: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Formik, {\n          initialValues: {\n            username: '',\n            password: '',\n            photo: ''\n          },\n          onSubmit: (values, {\n            resetForm\n          }) => editProfile(values, resetForm),\n          validationSchema: validationSchema,\n          enableReinitialize: true,\n          children: props => /*#__PURE__*/_jsxDEV(\"form\", {\n            style: {\n              textAlign: 'center'\n            },\n            onSubmit: props.handleSubmit,\n            autoComplete: \"off\",\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              name: \"username\",\n              label: \"User name\",\n              variant: \"outlined\",\n              fullWidth: true,\n              ...props.getFieldProps('username'),\n              ...errorHelper(props, 'username')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              InputProps: {\n                endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                  position: \"end\",\n                  children: /*#__PURE__*/_jsxDEV(IconButton, {\n                    onClick: handleClickShowPassword,\n                    children: [\" \", showPassword ? /*#__PURE__*/_jsxDEV(VisibilityOffIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 237,\n                      columnNumber: 108\n                    }, this) : /*#__PURE__*/_jsxDEV(VisibilityIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 237,\n                      columnNumber: 132\n                    }, this), \"  \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 41\n                }, this)\n              },\n              type: showPassword ? \"text\" : \"password\",\n              variant: \"outlined\",\n              margin: \"normal\",\n              fullWidth: true,\n              name: \"password\",\n              label: \"Password\",\n              ...props.getFieldProps('password'),\n              ...errorHelper(props, 'password')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              InputProps: {\n                endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                  position: \"end\",\n                  children: /*#__PURE__*/_jsxDEV(IconButton, {\n                    onClick: handleClickConfirmPassword,\n                    children: [\" \", showConfirmPassword ? /*#__PURE__*/_jsxDEV(VisibilityOffIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 245,\n                      columnNumber: 118\n                    }, this) : /*#__PURE__*/_jsxDEV(VisibilityIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 245,\n                      columnNumber: 142\n                    }, this), \"  \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 41\n                }, this)\n              },\n              type: showConfirmPassword ? \"text\" : \"password\",\n              variant: \"outlined\",\n              margin: \"normal\",\n              fullWidth: true,\n              name: \"confirmPassword\",\n              label: \"Confirm Password\",\n              ...props.getFieldProps('confirmPassword'),\n              ...errorHelper(props, 'confirmPassword')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 28\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              id: \"file\",\n              className: \"inputfile\",\n              type: \"file\",\n              name: \"photo\",\n              onChange: e => handleChangeImage(e, props.setFieldValue),\n              hidden: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                margin: '5px 0px'\n              },\n              color: \"primary\",\n              variant: \"outlined\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginRight: '7px'\n                },\n                children: /*#__PURE__*/_jsxDEV(ImageIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 66\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"file\",\n                children: [fileName ? `${fileName} UPLOADED` : 'PROFILE IMAGE', \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 33\n            }, this), props.errors.photo && props.touched.photo ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error\",\n              children: props.errors.photo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 79\n            }, this) : null, /*#__PURE__*/_jsxDEV(Collapse, {\n              in: openAlert,\n              children: /*#__PURE__*/_jsxDEV(Alert, {\n                severity: \"error\",\n                action: /*#__PURE__*/_jsxDEV(IconButton, {\n                  color: \"inherit\",\n                  size: \"small\",\n                  onClick: () => setOpenAlert(false),\n                  children: [\" \", /*#__PURE__*/_jsxDEV(CloseIcon, {\n                    fontSize: \"inherit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 129\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 50\n                }, this),\n                children: message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              className: \"my-3\",\n              variant: \"contained\",\n              color: \"primary\",\n              type: \"submit\",\n              size: \"large\",\n              fullWidth: true,\n              children: \" Sign up \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  href: \"/signin\",\n                  variant: \"body2\",\n                  children: \" Already have an account? Sign In \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 35\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              mt: 5,\n              children: /*#__PURE__*/_jsxDEV(Copyright, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 35\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 2\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 15\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 197,\n    columnNumber: 7\n  }, this);\n};\n\n_s(SignUp, \"OjKrljgHjd3UPnGki460ES/otZ4=\", false, function () {\n  return [useDispatch, useStyles, useHistory];\n});\n\n_c2 = SignUp;\nexport default SignUp;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Copyright\");\n$RefreshReg$(_c2, \"SignUp\");","map":{"version":3,"sources":["C:/Users/×××× ××/Desktop/Projects/Instagram-master/client/src/components/signup/SignUp.js"],"names":["React","useState","useRef","useDispatch","useHistory","InstaPhoto","Slider1","Slider2","Slider3","Grid","ReCaptcha","Formik","Form","Input","Yup","TextField","Button","makeStyles","Link","Paper","Box","Typography","Carousel","ImageIcon","Hidden","Collapse","CloseIcon","IconButton","Alert","InputAdornment","VisibilityIcon","VisibilityOffIcon","Copyright","Date","getFullYear","useStyles","theme","root","marginTop","image","position","backgroundImage","backgroundRepeat","alignSelf","backgroundPosition","backgroundSize","flexBasis","height","slider","width","margin","left","bottom","formGrid","paper","spacing","display","flexDirection","alignItems","avatar","backgroundColor","palette","secondary","main","form","profileBtn","paddingTop","marginBottom","imageIcon","marginRight","submit","SignUp","setIsAuth","dispatch","classes","reRef","isProfile","setIsProfile","message","setMessage","openAlert","setOpenAlert","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","fileName","setFileName","history","validationSchema","object","shape","username","string","required","password","min","confirmPassword","oneOf","ref","photo","errorHelper","formik","values","error","errors","touched","helperText","handleClickShowPassword","handleClickConfirmPassword","handleChangeImage","e","setFieldValue","target","files","length","name","editProfile","reader","FileReader","readAsDataURL","onloadend","result","signUpUser","token","current","getValue","response","fetch","method","headers","body","JSON","stringify","data","json","reset","user","localStorage","setItem","newUser","type","payload","push","console","log","resetForm","props","textAlign","handleSubmit","getFieldProps","endAdornment"],"mappings":"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","sourcesContent":["import React,{ useState, useRef } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport InstaPhoto from '../../images/insta.png'\nimport Slider1 from '../../images/slider1.jpg'\nimport Slider2 from '../../images/slider2.jpg'\nimport Slider3 from '../../images/slider3.jpg'\nimport Grid from '@material-ui/core/Grid';\nimport ReCaptcha from 'react-google-recaptcha'\nimport { Formik, Form} from 'formik';\nimport {Input } from '@material-ui/core'\nimport * as Yup from 'yup';\nimport {TextField, Button} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Link from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport Carousel from 'react-bootstrap/Carousel'\nimport ImageIcon from '@material-ui/icons/Image';\nimport { Hidden } from '@material-ui/core';\nimport Collapse from '@material-ui/core/Collapse';\nimport CloseIcon from '@material-ui/icons/Close';\nimport IconButton from '@material-ui/core/IconButton';\nimport Alert from '@material-ui/lab/Alert';\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\nimport './style.css'\n\nfunction Copyright() {\n    return (\n      <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n        {'Copyright Â© '}\n        <Link color=\"inherit\" href=\"https://material-ui.com/\">\n          Your Website\n        </Link>{' '}\n        {new Date().getFullYear()}\n        {'.'}\n      </Typography>\n    );\n  }\n  \n\n  const useStyles = makeStyles((theme) => ({\n    root: {\n      marginTop:'20px'\n    },\n    image: {\n      position:'relative',\n      backgroundImage: `url(${InstaPhoto})`,\n      backgroundRepeat: 'no-repeat',\n      alignSelf: 'center',\n      backgroundPosition: '0 0',\n      backgroundSize: '454px 618px',\n      flexBasis: '454px',\n      height: '618px',\n    \n    },\n    slider: {\n      width:'54%',\n      margin: '99px 0 0 151px',\n      position: 'relative',\n      left:'-3px',\n      bottom: '3px'\n    },\n    formGrid: {\n      marginTop:'70px',\n      margin:'auto'\n    },\n    paper: {\n      margin: theme.spacing(8, 4),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n      width: '100%',\n      marginTop: theme.spacing(1),\n    },\n    profileBtn: {\n      paddingTop:'10px',\n      marginTop:'10px',\n      marginBottom:'10px'\n    },\n    imageIcon: {\n      marginBottom:'8px',\n      marginRight:'5px'\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n  }))\n\n\nconst SignUp = ({ setIsAuth }) => {\n    const dispatch = useDispatch()\n    const classes = useStyles()\n    const reRef = useRef()\n    const [isProfile, setIsProfile] = useState(false)\n    const [message, setMessage] = useState('')\n    const [openAlert, setOpenAlert] = useState(false)\n    const [showPassword, setShowPassword] = useState(false)\n    const [showConfirmPassword, setShowConfirmPassword] = useState(false)\n    const [fileName, setFileName] = useState('')\n    const history = useHistory()\n  \n    // Form validation\n    const validationSchema = Yup.object().shape({\n            username:Yup.string()\n            .required('user name is required!'),\n             password:Yup.string()\n            .required('password is required!')\n            .min(6, 'password have to be at least 6 characters long'),\n            confirmPassword:Yup.string()\n            .required('confirm your password!')\n            .oneOf([Yup.ref('password'), null], 'Passwords must match'),\n            photo:Yup.string()\n            .required('profile image is required')\n    })\n\n    const errorHelper = (formik,values) => ({\n      error: formik.errors[values] && formik.touched[values] ? true : false,\n      helperText: formik.errors[values] && formik.touched[values] ? formik.errors[values]:null\n  })\n\n    // Handle password visiblity \n    const  handleClickShowPassword = () => {\n      setShowPassword(!showPassword)\n    }\n    const handleClickConfirmPassword = () => {\n      setShowConfirmPassword(!showConfirmPassword)\n    }\n\n    const handleChangeImage = (e, setFieldValue) => {\n      setFieldValue(\"photo\", e.target.files[0])\n      if(e.target.files.length === 0) {\n        setIsProfile(false)\n        setFileName('')\n      } \n      else {\n        setIsProfile(true)\n        setFileName(e.target.files[0].name)\n      }\n    }\n    \n  \n    // Edit the profile image\n    const editProfile =  (values) => {\n     values.fileName = fileName\n     if(typeof values.photo === 'object' ) {\n      const reader = new FileReader()\n      reader.readAsDataURL(values.photo)\n      reader.onloadend = () => {\n        values.photo = reader.result\n        signUpUser(values)\n      }\n     } else {\n      signUpUser(values)\n     }\n    }\n        \n      // Add new user\n     const signUpUser = async (values) => {\n      try {\n            const token = await reRef.current.getValue()\n            const response = await fetch('https://instappmalach.herokuapp.com/auth/signup', { \n            method: 'POST',\n            headers: {\n                'Content-Type':'application/json'\n            },\n            body: JSON.stringify({...values, token})\n          })\n          const data = await response.json()\n          reRef.current.reset()\n          if(data.user){\n            localStorage.setItem('user', JSON.stringify({...data.user,newUser:true}))\n            dispatch(({ type:'AUTH_USER', payload:data.user }))\n            setIsAuth(true)\n            history.push('/')\n          } else {\n            console.log(data.error);\n            setMessage(data.error)\n            setOpenAlert(true)\n          }\n\n        } catch (error) {\n            console.error(error)\n          }\n    }\n  \n    return (\n      <Grid container className={classes.root}>\n\n      {/* Instagram image */}\n        <Hidden mdDown>\n            <Grid item xs={1} md={2}></Grid>\n            <Grid item xs={2} lg={4} className={classes.image} >\n              <Carousel fade className={classes.slider} interval={2000}>\n                <Carousel.Item>\n                  <img className=\"d-block w-100\" src={Slider1} alt=\"First slide\" />\n                </Carousel.Item>\n                <Carousel.Item>\n                  <img className=\"d-block w-100\" src={Slider2} alt=\" Second slide\"/>\n                </Carousel.Item>\n                <Carousel.Item>\n                <img className=\"d-block w-100\" src={Slider3} alt=\"Third slide\"/>\n                </Carousel.Item>\n              </Carousel>\n            </Grid>\n      </Hidden>\n      \n      {/* Sign up form */}\n      <Grid item xs={12} md={4}  component={Paper} elevation={6} square className={classes.formGrid}>\n          <div className={classes.paper}>\n            <img src=\"https://i.imgur.com/zqpwkLQ.png\" alt=\"logo\" />\n\n\n\n            <Formik\n                    initialValues={{username:'',password:'', photo:''}}\n                    onSubmit={(values,{resetForm}) => editProfile(values, resetForm)}\n                    validationSchema={validationSchema}\n                    enableReinitialize={true}>\n                    {(props) => (\n                        <form style={{textAlign:'center'}} onSubmit={props.handleSubmit} autoComplete=\"off\">\n  \n                                <TextField name=\"username\" label=\"User name\" variant=\"outlined\" fullWidth {...props.getFieldProps('username')} {...errorHelper(props,'username')}/>   \n                                \n                                <TextField InputProps={{\n                                    endAdornment: (\n                                        <InputAdornment position=\"end\">\n                                            <IconButton onClick={handleClickShowPassword}> {showPassword ? <VisibilityOffIcon /> : <VisibilityIcon />}  </IconButton>\n                                        </InputAdornment>\n                                        )}}  \n                                    type={showPassword ? \"text\": \"password\"} variant=\"outlined\" margin=\"normal\" fullWidth name=\"password\" label=\"Password\" {...props.getFieldProps('password')} {...errorHelper(props,'password')} />   \n                           \n                           <TextField InputProps={{\n                                    endAdornment: (\n                                        <InputAdornment position=\"end\">\n                                            <IconButton onClick={handleClickConfirmPassword}> {showConfirmPassword ? <VisibilityOffIcon /> : <VisibilityIcon />}  </IconButton>\n                                        </InputAdornment>\n                                        )}}  \n                                    type={showConfirmPassword ? \"text\": \"password\"} variant=\"outlined\" margin=\"normal\" fullWidth name=\"confirmPassword\" label=\"Confirm Password\" {...props.getFieldProps('confirmPassword')} {...errorHelper(props,'confirmPassword')} />\n                         \n                                <Input id=\"file\"  className=\"inputfile\" type=\"file\" name=\"photo\" onChange={(e) => handleChangeImage(e,props.setFieldValue )} hidden/> \n                                <Button style={{display:'flex', alignItems:'center', margin:'5px 0px'}} color='primary'  variant=\"outlined\">\n                                <div style={{marginRight:'7px'}}><ImageIcon/></div>\n                                <label htmlFor=\"file\">{fileName ? `${fileName} UPLOADED` : 'PROFILE IMAGE'} </label></Button>\n                                {props.errors.photo && props.touched.photo ?  <div className=\"error\">{props.errors.photo}</div>  : null}\n                                {/* <ReCaptcha style={{margin:'10px 0px'}} sitekey=\"6LfruZ4aAAAAAAFNEQG6lPJLbJVjEThKg2DJdjEi\" ref={reRef}/>  */}\n                                  {/* Alert error */}\n                                    <Collapse in={openAlert}>\n                                        <Alert\n                                        severity=\"error\"\n                                        action={ <IconButton color=\"inherit\" size=\"small\" onClick={() => setOpenAlert(false) }> <CloseIcon fontSize=\"inherit\" /> </IconButton>}>\n                                        {message}\n                                        </Alert>\n                                        </Collapse>\n                                <Button className=\"my-3\" variant=\"contained\" color=\"primary\" type=\"submit\" size=\"large\" fullWidth> Sign up </Button>\n                                <Grid container>\n                                  <Grid item>\n                                    <Link href=\"/signin\" variant=\"body2\"> Already have an account? Sign In </Link>\n                                  </Grid>\n                                </Grid>\n                                <Box mt={5}>\n                                  <Copyright />\n                                </Box>\n                         </form> )}\n                    </Formik>  \n                </div>\n              </Grid> \n              <Grid item xs={2}></Grid>\n       \n            </Grid>\n          \n    )\n}\nexport default SignUp\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}