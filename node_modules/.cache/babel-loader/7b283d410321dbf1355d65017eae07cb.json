{"ast":null,"code":"import _slicedToArray from\"C:/Users/\\u05DE\\u05DC\\u05D0\\u05DA \\u05D2\\u05DC/Desktop/Projects/Instagram-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import StoryModal from'./StoryModal';// material ui\nimport{Avatar}from'@material-ui/core';import{StylesProvider}from'@material-ui/core/styles';import AddCircleIcon from'@material-ui/icons/AddCircle';// react-stories\nimport Stories from'react-insta-stories';// Cloudinary\nimport{Image}from'cloudinary-react';// css\nimport'./style.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Story=function Story(_ref){var storiesUsers=_ref.storiesUsers;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),storyUsers=_useState2[0],setStoryUsers=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),stories=_useState4[0],setStories=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),storyModal=_useState6[0],setStoryModal=_useState6[1];var openStory=function openStory(stories,username,profile){var storiesArr=[];stories.forEach(function(story){var photoArr=story.photo.split(\"upload/\");var storyObj={url:\"\".concat(photoArr[0],\"upload/w_432,h_500,c_scale/\").concat(photoArr[1]),header:{heading:username,profileImage:profile}};storiesArr.push(storyObj);});setStories(storiesArr);};useEffect(function(){setStoryUsers(storiesUsers);},[]);return/*#__PURE__*/_jsxs(StylesProvider,{children:[stories.length!==0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"overlays\"}),/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:'20%',left:'30%',zIndex:'2'},children:/*#__PURE__*/_jsx(Stories,{width:432,height:500,stories:stories,onAllStoriesEnd:function onAllStoriesEnd(){return setStories([]);}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stories\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"story_users\",children:storyUsers&&storyUsers.map(function(user){return/*#__PURE__*/_jsxs(\"div\",{className:\"story-div\",children:[\" \",/*#__PURE__*/_jsx(Avatar,{style:{height:'70px',width:'70px',border:'2px solid #D82B7D'},onClick:function onClick(){return openStory(user.Stories,user.username,user.profileUrl);},children:/*#__PURE__*/_jsx(Image,{cloudName:\"malachcloud\",publicId:user.profile,width:\"70\",height:\"70\",crop:\"scale\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"story_username\",children:user.username})]},user.id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"add_Story_btn\",id:\"stepThree\",title:\"Add story\",children:[\" \",/*#__PURE__*/_jsx(AddCircleIcon,{onClick:function onClick(){return setStoryModal(true);},style:{fill:'#ED4A4D'},fontSize:\"large\"}),\" \"]})]}),/*#__PURE__*/_jsx(StoryModal,{storyModal:storyModal,setStoryModal:setStoryModal})]});};export default Story;","map":{"version":3,"sources":["C:/Users/מלאך גל/Desktop/Projects/Instagram-master/client/src/components/story/Story.js"],"names":["React","useState","useEffect","StoryModal","Avatar","StylesProvider","AddCircleIcon","Stories","Image","Story","storiesUsers","storyUsers","setStoryUsers","stories","setStories","storyModal","setStoryModal","openStory","username","profile","storiesArr","forEach","story","photoArr","photo","split","storyObj","url","header","heading","profileImage","push","length","position","top","left","zIndex","map","user","height","width","border","profileUrl","id","fill"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport StoryModal from './StoryModal'\n// material ui\nimport { Avatar } from '@material-ui/core';\nimport { StylesProvider } from '@material-ui/core/styles';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\n// react-stories\nimport Stories from 'react-insta-stories';\n// Cloudinary\nimport {Image} from 'cloudinary-react';\n// css\nimport './style.css'\n\nconst Story = ({ storiesUsers }) => {\n    const [storyUsers, setStoryUsers] = useState([])\n    const [stories, setStories] = useState([])\n    const [storyModal, setStoryModal] = useState(false)\n\n    const openStory = (stories,username,profile) => {\n       const storiesArr = []\n       stories.forEach(story => {\n           const photoArr = story.photo.split(\"upload/\")\n           const storyObj = {\n                url:`${photoArr[0]}upload/w_432,h_500,c_scale/${photoArr[1]}`,\n                header: {\n                        heading: username,\n                        profileImage: profile , \n                    }\n                }\n                storiesArr.push(storyObj)    \n    })\n    setStories(storiesArr)\n}\n\n    useEffect(() => {\n        setStoryUsers(storiesUsers)\n    }, [])\n  \n   \n    return (\n    <StylesProvider>\n        {stories.length !== 0 && \n        <>\n        <div className=\"overlays\"></div>\n        <div style={{position: 'fixed', top:'20%', left:'30%', zIndex:'2'}}>\n          <Stories  width={432} height={500} stories={stories} onAllStoriesEnd={() => setStories([])}/>\n        </div>\n        </>\n        }\n        <div className=\"stories\">\n            <div className=\"story_users\">\n                {storyUsers && storyUsers.map(user => (\n                    <div key={user.id} className=\"story-div\"> <Avatar style={{height:'70px', width:'70px', border:'2px solid #D82B7D'}} onClick={() => openStory(user.Stories,user.username,user.profileUrl)}>\n                    <Image cloudName=\"malachcloud\" publicId={user.profile} width=\"70\" height=\"70\" crop=\"scale\" />\n                    </Avatar>\n                    <span className=\"story_username\">{user.username}</span>\n                    </div>\n                ))}\n        </div>\n        <div className=\"add_Story_btn\" id=\"stepThree\" title=\"Add story\"> <AddCircleIcon onClick={() => setStoryModal(true)} style={{fill:'#ED4A4D'}} fontSize=\"large\"/> </div>\n    </div>\n    <StoryModal storyModal={storyModal} setStoryModal={setStoryModal}/>\n</StylesProvider>\n    ) \n}\n\nexport default Story\n\n "]},"metadata":{},"sourceType":"module"}