{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/\\u05DE\\u05DC\\u05D0\\u05DA \\u05D2\\u05DC/Desktop/Projects/Instagram-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/\\u05DE\\u05DC\\u05D0\\u05DA \\u05D2\\u05DC/Desktop/Projects/Instagram-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/\\u05DE\\u05DC\\u05D0\\u05DA \\u05D2\\u05DC/Desktop/Projects/Instagram-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"C:/Users/\\u05DE\\u05DC\\u05D0\\u05DA \\u05D2\\u05DC/Desktop/Projects/Instagram-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{useState,useEffect}from'react';import Poper from'./poper/Poper';import InputBase from'@material-ui/core/InputBase';import{makeStyles}from'@material-ui/core/styles';import SearchIcon from'@material-ui/icons/Search';import Popper from'@material-ui/core/Popper';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){var _search;return{search:(_search={display:'none'},_defineProperty(_search,theme.breakpoints.up('md'),{display:'flex'}),_defineProperty(_search,\"position\",'relative'),_defineProperty(_search,\"borderRadius\",theme.shape.borderRadius),_defineProperty(_search,\"backgroundColor\",\"whitesmoke\"),_defineProperty(_search,'&:hover',{backgroundColor:'lightgrey'}),_defineProperty(_search,\"marginRight\",theme.spacing(2)),_defineProperty(_search,\"marginLeft\",'0'),_defineProperty(_search,\"width\",'100%'),_defineProperty(_search,theme.breakpoints.up('sm'),{marginLeft:theme.spacing(3),width:'auto'}),_search),searchIcon:{padding:theme.spacing(0,2),height:'100%',position:'absolute',pointerEvents:'none',display:'flex',alignItems:'center',justifyContent:'center'},inputRoot:{color:'inherit'},inputInput:_defineProperty({padding:theme.spacing(1,1,1,0),// vertical padding + font size from searchIcon\npaddingLeft:\"calc(1em + \".concat(theme.spacing(4),\"px)\"),transition:theme.transitions.create('width'),width:'100%'},theme.breakpoints.up('md'),{width:'20ch'})};});function Search(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchValue=_useState2[0],setSearchValue=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),users=_useState4[0],setUsers=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),anchorEl=_useState6[0],setAnchorEl=_useState6[1];var classes=useStyles();var open=Boolean(anchorEl);var handleChange=function handleChange(e){setSearchValue(e.target.value);if(users.users===undefined){console.log('not');setAnchorEl(null);}else if(users.users.length===0){setAnchorEl(null);}else{setAnchorEl(e.currentTarget);}};var findUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/user/users/\".concat(searchValue));case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;setUsers(data);case 7:case\"end\":return _context.stop();}}},_callee);}));return function findUsers(){return _ref.apply(this,arguments);};}();useEffect(function(){findUsers();},[searchValue]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:classes.search,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.searchIcon,children:/*#__PURE__*/_jsx(SearchIcon,{})}),/*#__PURE__*/_jsx(InputBase,{onChange:function onChange(e){return handleChange(e);},placeholder:\"Search\\u2026\",classes:{root:classes.inputRoot,input:classes.inputInput}}),/*#__PURE__*/_jsx(Poper,{users:users,open:open,anchorEl:anchorEl,setUsers:setUsers})]})});}export default Search;","map":{"version":3,"sources":["C:/Users/מלאך גל/Desktop/Projects/Instagram-master/client/src/components/search/Search.js"],"names":["React","useState","useEffect","Poper","InputBase","makeStyles","SearchIcon","Popper","useStyles","theme","search","display","breakpoints","up","shape","borderRadius","backgroundColor","spacing","marginLeft","width","searchIcon","padding","height","position","pointerEvents","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","Search","searchValue","setSearchValue","users","setUsers","anchorEl","setAnchorEl","classes","open","Boolean","handleChange","e","target","value","undefined","console","log","length","currentTarget","findUsers","fetch","res","json","data","root","input"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport Poper from './poper/Poper'\nimport InputBase from '@material-ui/core/InputBase';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Popper from '@material-ui/core/Popper';\n\nconst useStyles = makeStyles((theme) => ({\n    search: {\n      display: 'none',\n      [theme.breakpoints.up('md')]: {\n        display: 'flex',\n      },\n      position: 'relative',\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: \"whitesmoke\",\n      '&:hover': {\n        backgroundColor: 'lightgrey',\n      },\n      marginRight: theme.spacing(2),\n      marginLeft: '0',\n      width: '100%',\n      [theme.breakpoints.up('sm')]: {\n        marginLeft: theme.spacing(3),\n        width: 'auto',\n      },\n    },\n    searchIcon: {\n      padding: theme.spacing(0, 2),\n      height: '100%',\n      position: 'absolute',\n      pointerEvents: 'none',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n    inputRoot: {\n      color: 'inherit',\n    },\n    inputInput: {\n      padding: theme.spacing(1, 1, 1, 0),\n      // vertical padding + font size from searchIcon\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n      transition: theme.transitions.create('width'),\n      width: '100%',\n      [theme.breakpoints.up('md')]: {\n        width: '20ch',\n      },\n    },\n   \n    \n  }))\n\nfunction Search() {\n  \n    const [searchValue, setSearchValue] = useState('')\n    const [users, setUsers] = useState([])\n    const [anchorEl, setAnchorEl] = useState(null)\n    const classes = useStyles()\n    const open = Boolean(anchorEl)\n\n    const handleChange = (e) => {\n        setSearchValue(e.target.value)\n        if(users.users === undefined) {\n            console.log('not');\n            setAnchorEl(null)\n        } else if(users.users.length === 0) {\n            setAnchorEl(null)\n        } else {\n            setAnchorEl(e.currentTarget)\n        }\n    }\n\n    const findUsers = async () => {\n        const res = await fetch(`/user/users/${searchValue}`)\n        const data = await res.json()\n        setUsers(data)\n    }\n \n    useEffect(() => {\n       findUsers()\n    }, [searchValue])\n\n    return (\n        <>\n           <div className={classes.search}>\n            <div className={classes.searchIcon}>\n              <SearchIcon />\n            </div>\n            <InputBase\n              onChange={e => handleChange(e)}\n              placeholder=\"Search…\"\n              classes={{\n                root: classes.inputRoot,\n                input: classes.inputInput,\n              }}\n            \n            />\n              <Poper users={users} open={open} anchorEl={anchorEl} setUsers={setUsers}/>\n          </div>\n        </>\n    )\n}\n\nexport default Search\n"]},"metadata":{},"sourceType":"module"}