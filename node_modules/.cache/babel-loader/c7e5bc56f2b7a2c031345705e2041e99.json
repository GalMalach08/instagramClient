{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/\\u05DE\\u05DC\\u05D0\\u05DA \\u05D2\\u05DC/Desktop/Projects/Instagram-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/\\u05DE\\u05DC\\u05D0\\u05DA \\u05D2\\u05DC/Desktop/Projects/Instagram-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/\\u05DE\\u05DC\\u05D0\\u05DA \\u05D2\\u05DC/Desktop/Projects/Instagram-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Grid}from'@material-ui/core';import ChatMessages from'./ChatMessages';import ChatBlankMessages from'./ChatBlankMessages';import ChatUsers from'./ChatUsers';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Chat=function Chat(props){var id=props.match.params.id;var location=props.location;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),currentChatUser=_useState2[0],setCurrentChatUser=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),userChanged=_useState4[0],setUserChanged=_useState4[1];var getUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,_yield$res$json,user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/user/\".concat(id));case 2:res=_context.sent;_context.next=5;return res.json();case 5:_yield$res$json=_context.sent;user=_yield$res$json.user;setCurrentChatUser(user);case 8:case\"end\":return _context.stop();}}},_callee);}));return function getUser(){return _ref.apply(this,arguments);};}();useEffect(function(){getUser();},[userChanged]);return/*#__PURE__*/_jsx(\"div\",{className:\"container pt-4\",children:/*#__PURE__*/_jsxs(Grid,{container:true,style:{backgroundColor:'whitesmoke',minHeight:'600px',border:'1px solid lightgrey'},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:6,style:{border:'1px solid lightgrey'},children:/*#__PURE__*/_jsx(ChatUsers,{userChanged:userChanged,setUserChanged:setUserChanged})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:currentChatUser&&currentChatUser!==null?/*#__PURE__*/_jsx(ChatMessages,{user:currentChatUser,location:location}):/*#__PURE__*/_jsx(ChatBlankMessages,{})})]})});};export default Chat;","map":{"version":3,"sources":["C:/Users/מלאך גל/Desktop/Projects/Instagram-master/client/src/components/chat/Chat.js"],"names":["React","useState","useEffect","Grid","ChatMessages","ChatBlankMessages","ChatUsers","Chat","props","id","match","params","location","currentChatUser","setCurrentChatUser","userChanged","setUserChanged","getUser","fetch","res","json","user","backgroundColor","minHeight","border"],"mappings":"umBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,mBAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qBAA9B,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,C,wFAGA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACC,KAAD,CAAW,IACZC,CAAAA,EADY,CACLD,KAAK,CAACE,KAAN,CAAYC,MADP,CACZF,EADY,IAEZG,CAAAA,QAFY,CAECJ,KAFD,CAEZI,QAFY,eAI0BX,QAAQ,CAAC,EAAD,CAJlC,wCAIbY,eAJa,eAIIC,kBAJJ,8BAKkBb,QAAQ,CAAC,KAAD,CAL1B,yCAKbc,WALa,eAKAC,cALA,eAMpB,GAAMC,CAAAA,OAAO,0FAAG,sLACMC,CAAAA,KAAK,iBAAUT,EAAV,EADX,QACNU,GADM,qCAEWA,CAAAA,GAAG,CAACC,IAAJ,EAFX,sCAEJC,IAFI,iBAEJA,IAFI,CAGZP,kBAAkB,CAACO,IAAD,CAAlB,CAHY,sDAAH,kBAAPJ,CAAAA,OAAO,0CAAb,CAMAf,SAAS,CAAC,UAAM,CACZe,OAAO,GACV,CAFQ,CAEN,CAACF,WAAD,CAFM,CAAT,CAOA,mBAEI,YAAK,SAAS,CAAC,gBAAf,uBACG,MAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,KAAK,CAAE,CAACO,eAAe,CAAC,YAAjB,CAA+BC,SAAS,CAAC,OAAzC,CAAkDC,MAAM,CAAC,qBAAzD,CAAvB,wBACK,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CAAkB,KAAK,CAAE,CAAGA,MAAM,CAAC,qBAAV,CAAzB,uBACI,KAAC,SAAD,EAAW,WAAW,CAAET,WAAxB,CAAqC,cAAc,CAAEC,cAArD,EADJ,EADL,cAIK,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,UACKH,eAAe,EAAIA,eAAe,GAAK,IAAvC,cAA+C,KAAC,YAAD,EAAc,IAAI,CAAEA,eAApB,CAAqC,QAAQ,CAAED,QAA/C,EAA/C,cACA,KAAC,iBAAD,IAFL,EAJL,GADH,EAFJ,CAiBH,CApCD,CAsCA,cAAeL,CAAAA,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Grid } from '@material-ui/core'\nimport ChatMessages from './ChatMessages'\nimport ChatBlankMessages from './ChatBlankMessages'\nimport ChatUsers from './ChatUsers'\n\n\nconst Chat = (props) => {\n    const { id } = props.match.params\n    const { location } = props\n  \n    const [currentChatUser, setCurrentChatUser] = useState('')\n    const [userChanged, setUserChanged] = useState(false)\n    const getUser = async () => {\n        const res = await fetch(`/user/${id}`)\n        const { user } = await res.json()\n        setCurrentChatUser(user)\n    }\n\n    useEffect(() => {\n        getUser()\n    }, [userChanged])\n\n\n\n    \n    return (\n\n        <div className=\"container pt-4\">\n           <Grid container style={{backgroundColor:'whitesmoke', minHeight:'600px', border:'1px solid lightgrey'}}>\n                <Grid item xs={6} style={{  border:'1px solid lightgrey' }} >\n                    <ChatUsers userChanged={userChanged} setUserChanged={setUserChanged}/>\n                </Grid>\n                <Grid item xs={6}>\n                   { currentChatUser && currentChatUser !== null ?  <ChatMessages user={currentChatUser} location={location}/> \n                   : <ChatBlankMessages />}\n                </Grid>\n           </Grid>\n        </div>\n      \n            \n       \n    )\n}\n\nexport default Chat\n"]},"metadata":{},"sourceType":"module"}