{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u05DE\\u05DC\\u05D0\\u05DA \\u05D2\\u05DC\\\\Desktop\\\\Projects\\\\Instagram-master\\\\client\\\\src\\\\components\\\\search\\\\Search.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Poper from './poper/Poper';\nimport InputBase from '@material-ui/core/InputBase';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Popper from '@material-ui/core/Popper';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  search: {\n    display: 'none',\n    [theme.breakpoints.up('md')]: {\n      display: 'flex'\n    },\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: \"whitesmoke\",\n    '&:hover': {\n      backgroundColor: 'lightgrey'\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: '0',\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(3),\n      width: 'auto'\n    }\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  inputRoot: {\n    color: 'inherit'\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('md')]: {\n      width: '20ch'\n    }\n  }\n}));\n\nfunction Search() {\n  _s();\n\n  const [searchValue, setSearchValue] = useState('');\n  const [users, setUsers] = useState([]);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const classes = useStyles();\n  const open = Boolean(anchorEl);\n\n  const handleChange = e => {\n    setSearchValue(e.target.value);\n\n    if (users.users === undefined) {\n      console.log('not');\n      setAnchorEl(null);\n    } else if (users.users.length === 0) {\n      setAnchorEl(null);\n    } else {\n      setAnchorEl(e.currentTarget);\n    }\n  };\n\n  const findUsers = async () => {\n    const res = await fetch(`https://instappmalach.herokuapp.com/user/users/${searchValue}`);\n    const data = await res.json();\n    setUsers(data);\n  };\n\n  useEffect(() => {\n    findUsers();\n  }, [searchValue]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.search,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.searchIcon,\n        children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(InputBase, {\n        onChange: e => handleChange(e),\n        placeholder: \"Search\\u2026\",\n        classes: {\n          root: classes.inputRoot,\n          input: classes.inputInput\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Poper, {\n        users: users,\n        open: open,\n        anchorEl: anchorEl,\n        setUsers: setUsers\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 12\n    }, this)\n  }, void 0, false);\n}\n\n_s(Search, \"OWr2FGQJl0Y8MoNZ2F+EOtxlR4k=\", false, function () {\n  return [useStyles];\n});\n\n_c = Search;\nexport default Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["C:/Users/מלאך גל/Desktop/Projects/Instagram-master/client/src/components/search/Search.js"],"names":["React","useState","useEffect","Poper","InputBase","makeStyles","SearchIcon","Popper","useStyles","theme","search","display","breakpoints","up","position","borderRadius","shape","backgroundColor","marginRight","spacing","marginLeft","width","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","Search","searchValue","setSearchValue","users","setUsers","anchorEl","setAnchorEl","classes","open","Boolean","handleChange","e","target","value","undefined","console","log","length","currentTarget","findUsers","res","fetch","data","json","root","input"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport Poper from './poper/Poper'\nimport InputBase from '@material-ui/core/InputBase';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Popper from '@material-ui/core/Popper';\n\nconst useStyles = makeStyles((theme) => ({\n    search: {\n      display: 'none',\n      [theme.breakpoints.up('md')]: {\n        display: 'flex',\n      },\n      position: 'relative',\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: \"whitesmoke\",\n      '&:hover': {\n        backgroundColor: 'lightgrey',\n      },\n      marginRight: theme.spacing(2),\n      marginLeft: '0',\n      width: '100%',\n      [theme.breakpoints.up('sm')]: {\n        marginLeft: theme.spacing(3),\n        width: 'auto',\n      },\n    },\n    searchIcon: {\n      padding: theme.spacing(0, 2),\n      height: '100%',\n      position: 'absolute',\n      pointerEvents: 'none',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n    inputRoot: {\n      color: 'inherit',\n    },\n    inputInput: {\n      padding: theme.spacing(1, 1, 1, 0),\n      // vertical padding + font size from searchIcon\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n      transition: theme.transitions.create('width'),\n      width: '100%',\n      [theme.breakpoints.up('md')]: {\n        width: '20ch',\n      },\n    },\n   \n    \n  }))\n\nfunction Search() {\n  \n    const [searchValue, setSearchValue] = useState('')\n    const [users, setUsers] = useState([])\n    const [anchorEl, setAnchorEl] = useState(null)\n    const classes = useStyles()\n    const open = Boolean(anchorEl)\n\n    const handleChange = (e) => {\n        setSearchValue(e.target.value)\n        if(users.users === undefined) {\n            console.log('not');\n            setAnchorEl(null)\n        } else if(users.users.length === 0) {\n            setAnchorEl(null)\n        } else {\n            setAnchorEl(e.currentTarget)\n        }\n    }\n\n    const findUsers = async () => {\n        const res = await fetch(`https://instappmalach.herokuapp.com/user/users/${searchValue}`)\n        const data = await res.json()\n        setUsers(data)\n    }\n \n    useEffect(() => {\n       findUsers()\n    }, [searchValue])\n\n    return (\n        <>\n           <div className={classes.search}>\n            <div className={classes.searchIcon}>\n              <SearchIcon />\n            </div>\n            <InputBase\n              onChange={e => handleChange(e)}\n              placeholder=\"Search…\"\n              classes={{\n                root: classes.inputRoot,\n                input: classes.inputInput,\n              }}\n            \n            />\n              <Poper users={users} open={open} anchorEl={anchorEl} setUsers={setUsers}/>\n          </div>\n        </>\n    )\n}\n\nexport default Search\n"]},"metadata":{},"sourceType":"module"}